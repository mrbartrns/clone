<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.14.0/css/all.css" integrity="sha384-HzLeBuhoNPvSl5KYnjx0BT+WB0QEEqLprO+NBkkk5gbc67FTaL7XIGa2w1L0Xbgc" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@500;700&display=swap" rel="stylesheet">
    <title>Document</title>
</head>
<body>
    <style>
        body {
            font-family: 'Roboto', sans-serif;
        }

        h1 {
            margin: 0;
            padding: 10px 20px;
            background-color: #2980b9;
            color: white;
            font-weight: normal;
            text-transform: uppercase;
            font-size: 24px;
        }

        input {
            width: 100%;
            background-color: f7f7f7;
            font-size: 18px;
            padding: 13px 13px 13px 20px;
            box-sizing: border-box;
            border: 3px solid rgba(0, 0, 0, 0);
            transition: 0.2s;
        }

        input:focus {
            background-color: white;
            border: 3px solid #2980b9;
            outline: none;
        }

        ul {
            list-style: none;
            margin: 0;
            padding: 0;
        }

        li {
            background-color: #fff;
            height: 40px;
            line-height: 40px;
            color: #666;
        }

        li:nth-child(2n) {
            background-color: #f7f7f7;
        }

        span {
            color: white;
            background-color: #e74c3c;
            cursor: pointer;
            width: 0;
            height: 40px;
            margin-right: 20px;
            opacity: 0;
            text-align: center;
            display: inline-block;
            transition: 0.2s linear;
        }

        span:hover {
            width: 40px;
            opacity: 1;
        }

        .todo-container {
            background-color: #f7f7f7;
            width: 360px;
            margin: 100px auto;
            box-shadow: 0 0 3px rgba(0, 0, 0, 0.1);
        }

        .completed {
            color: gray;
            text-decoration: line-through;
        }

        .fa-plus {
            float: right;
            cursor: pointer;
        }

        .hidden {
            display: none;
        }
    </style>
    <div class="todo-container">
        <h1>To-do list<i class="fa fa-plus"></i></h1>
        <input type="text" class="todo-input" maxlength="40" placeholder="Add New Todo">
        <ul>
            <li><span><i class="fa fa-trash-alt"></i></span> Go To Potions Class</li>
            <li><span><i class="fa fa-trash-alt"></i></span> Buy New Robes</li>
            <li><span><i class="fa fa-trash-alt"></i></span> Visit Hagrid</li>
        </ul>
    </div>
    <script>
        const lis = document.querySelectorAll("li");
        const ul = document.querySelector("ul");
        const input = document.querySelector(".todo-input");
        const is = document.querySelectorAll(".fa-trash-alt");
        const plus = document.querySelector(".fa-plus");

        lis.forEach(li => {
            li.addEventListener("click", function() {
                this.classList.toggle("completed");
            });
        });

        is.forEach(i => {
            i.addEventListener("click", function(e) {
                const i = e.target;
                const span = i.parentNode;
                const li = span.parentNode;
                li.remove(); // equals with ul.removeChild(li);
            })
        })
        plus.addEventListener("click", function() {
            input.classList.toggle("hidden");
        })
        input.addEventListener("keypress", function(e) {
            if (e.which === 13) {
                const value = input.value;
                console.log(value);
                input.value = "";
                const li = document.createElement("li");
                const span = document.createElement("span");
                ul.appendChild(li);
                li.innerHTML = `<span><i class="fa fa-trash-alt"></i></span> ${value}`;
                li.addEventListener("click", function() {
                    this.classList.toggle("completed");
                });
                const is = document.querySelectorAll(".fa-trash-alt");
                is.forEach(i => {
                    i.addEventListener("click", function(e) {
                        const i = e.target;
                        const span = i.parentNode;
                        const li = span.parentNode;
                        li.remove();
                    });
                });
            }
        });

    </script>
</body>
</html>